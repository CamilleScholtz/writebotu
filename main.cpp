#include <avr/interrupt.h>
#include <avr/io.h>

#include "drawer.h"
#include "millis.h"
#include "stepper.h"

// Define our left pins and ports.
#define PINL_DDR  DDRC
#define PINL_PORT PORTC
#define PINL_0    PC0
#define PINL_1    PC1
#define PINL_2    PC2
#define PINL_3    PC3

// Define our right pins and ports.
#define PINR_DDR  DDRL
#define PINR_PORT PORTL
#define PINR_0    PL0
#define PINR_1    PL1
#define PINR_2    PL2
#define PINR_3    PL3

int main() {
	// Initialize millis library.
	millis_init();

	// Enable interrupts.
	sei();

	// Create our stepper motor objects.
	Stepper lstepper(&PINL_DDR, &PINL_PORT, PINL_0, PINL_1, PINL_2,
		PINL_3);
	Stepper rstepper(&PINR_DDR, &PINR_PORT, PINR_0, PINR_1, PINR_2,
		PINR_3);

	int a = 8;
	Drawer d(lstepper, rstepper);

d.Goto(14787,21791);
d.Goto(14771,21889);
d.Goto(14750,21987);
d.Goto(14723,22084);
d.Goto(14654,22276);
d.Goto(14567,22461);
d.Goto(14465,22634);
d.Goto(14350,22792);
d.Goto(14289,22865);
d.Goto(14226,22933);
d.Goto(14161,22995);
d.Goto(14094,23051);
d.Goto(14063,22914);
d.Goto(14022,22789);
d.Goto(13972,22675);
d.Goto(13916,22573);
d.Goto(13855,22485);
d.Goto(13824,22446);
d.Goto(13792,22411);
d.Goto(13761,22379);
d.Goto(13729,22351);
d.Goto(13699,22328);
d.Goto(13669,22308);
d.Goto(13587,22488);
d.Goto(13544,22574);
d.Goto(13497,22661);
d.Goto(13442,22751);
d.Goto(13376,22847);
d.Goto(13297,22951);
d.Goto(13201,23066);
d.Goto(13201,23066);
d.Goto(13201,23067);
d.Goto(13200,23067);
d.Goto(13195,23066);
d.Goto(13178,23059);
d.Goto(13112,23023);
d.Goto(12876,22870);
d.Goto(12534,22623);
d.Goto(12132,22298);
d.Goto(11712,21910);
d.Goto(11509,21697);
d.Goto(11318,21474);
d.Goto(11144,21244);
d.Goto(10994,21008);
d.Goto(10871,20767);
d.Goto(10782,20525);
d.Goto(10620,19996);
d.Goto(10457,19570);
d.Goto(10287,19206);
d.Goto(10109,18866);
d.Goto(9715,18104);
d.Goto(9492,17603);
d.Goto(8821,9215);
d.Goto(9225,8936);
d.Goto(9596,8705);
d.Goto(9941,8521);
d.Goto(10269,8380);
d.Goto(10428,8325);
d.Goto(10586,8280);
d.Goto(10743,8244);
d.Goto(10900,8218);
d.Goto(11017,8207);
d.Goto(11129,8206);
d.Goto(11235,8214);
d.Goto(11336,8230);
d.Goto(11433,8252);
d.Goto(11527,8279);
d.Goto(11706,8343);
d.Goto(11880,8410);
d.Goto(12055,8469);
d.Goto(12144,8493);
d.Goto(12235,8510);
d.Goto(12329,8519);
d.Goto(12426,8520);
d.Goto(12472,8530);
d.Goto(12521,8537);
d.Goto(12625,8538);
d.Goto(12736,8525);
d.Goto(12852,8501);
d.Goto(13097,8427);
d.Goto(13350,8333);
d.Goto(13844,8148);
d.Goto(13958,8115);
d.Goto(14066,8091);
d.Goto(14166,8078);
d.Goto(14258,8079);
d.Goto(14345,8076);
d.Goto(14441,8083);
d.Goto(14545,8098);
d.Goto(14654,8120);
d.Goto(14886,8180);
d.Goto(15127,8253);
d.Goto(15596,8399);
d.Goto(15804,8451);
d.Goto(15896,8468);
d.Goto(15980,8476);
d.Goto(16191,8394);
d.Goto(16410,8331);
d.Goto(16634,8286);
d.Goto(16863,8260);
d.Goto(17094,8251);
d.Goto(17326,8261);
d.Goto(17556,8288);
d.Goto(17784,8333);
d.Goto(18007,8396);
d.Goto(18223,8476);
d.Goto(18431,8573);
d.Goto(18630,8688);
d.Goto(18817,8819);
d.Goto(18990,8968);
d.Goto(19148,9133);
d.Goto(19290,9315);
d.Goto(19582,9682);
d.Goto(19860,10072);
d.Goto(20114,10463);
d.Goto(20338,10832);
d.Goto(20668,11419);
d.Goto(20791,11654);
d.Goto(20925,11666);
d.Goto(21082,11672);
d.Goto(21288,11669);
d.Goto(21536,11650);
d.Goto(21817,11610);
d.Goto(22125,11542);
d.Goto(22452,11439);
d.Goto(22789,11296);
d.Goto(23129,11105);
d.Goto(23465,10861);
d.Goto(23789,10556);
d.Goto(24093,10185);
d.Goto(24369,9741);
d.Goto(24610,9218);
d.Goto(24808,8609);
d.Goto(24910,7858);
d.Goto(24956,7188);
d.Goto(24951,6588);
d.Goto(24901,6049);
d.Goto(24812,5559);
d.Goto(24689,5108);
d.Goto(24539,4686);
d.Goto(24366,4283);
d.Goto(24267,4110);
d.Goto(24152,3939);
d.Goto(24023,3773);
d.Goto(23880,3611);
d.Goto(23724,3457);
d.Goto(23557,3310);
d.Goto(23379,3173);
d.Goto(23191,3047);
d.Goto(22994,2933);
d.Goto(22790,2834);
d.Goto(22578,2749);
d.Goto(22361,2681);
d.Goto(22139,2632);
d.Goto(21913,2601);
d.Goto(21684,2592);
d.Goto(21453,2605);
d.Goto(21226,2636);
d.Goto(21008,2679);
d.Goto(20598,2793);
d.Goto(20223,2931);
d.Goto(19880,3080);
d.Goto(19287,3350);
d.Goto(19156,3402);
d.Goto(19033,3443);
d.Goto(18915,3472);
d.Goto(18805,3488);
d.Goto(18594,3497);
d.Goto(18397,3493);
d.Goto(18217,3480);
d.Goto(18059,3461);
d.Goto(17929,3440);
d.Goto(17830,3420);
d.Goto(17745,3400);
d.Goto(17748,3427);
d.Goto(17761,3499);
d.Goto(17789,3605);
d.Goto(17811,3666);
d.Goto(17839,3731);
d.Goto(17873,3798);
d.Goto(17915,3866);
d.Goto(17965,3932);
d.Goto(18024,3996);
d.Goto(18093,4055);
d.Goto(18172,4109);
d.Goto(18261,4156);
d.Goto(18363,4194);
d.Goto(18486,4224);
d.Goto(18637,4250);
d.Goto(19006,4289);
d.Goto(19897,4355);
d.Goto(20353,4399);
d.Goto(20771,4462);
d.Goto(20956,4503);
d.Goto(21120,4553);
d.Goto(21257,4611);
d.Goto(21315,4644);
d.Goto(21365,4680);
d.Goto(21458,4767);
d.Goto(21555,4876);
d.Goto(21654,5007);
d.Goto(21753,5156);
d.Goto(21946,5504);
d.Goto(22120,5905);
d.Goto(22264,6343);
d.Goto(22320,6571);
d.Goto(22364,6803);
d.Goto(22393,7036);
d.Goto(22407,7269);
d.Goto(22403,7500);
d.Goto(22380,7726);
d.Goto(22340,7938);
d.Goto(22287,8128);
d.Goto(22223,8297);
d.Goto(22150,8446);
d.Goto(22069,8577);
d.Goto(21983,8690);
d.Goto(21893,8787);
d.Goto(21800,8869);
d.Goto(21707,8938);
d.Goto(21615,8994);
d.Goto(21526,9039);
d.Goto(21442,9074);
d.Goto(21364,9100);
d.Goto(21295,9119);
d.Goto(21235,9131);
d.Goto(21188,9138);
d.Goto(21105,9144);
d.Goto(21022,9144);
d.Goto(20855,9122);
d.Goto(20689,9075);
d.Goto(20523,9006);
d.Goto(20359,8916);
d.Goto(20196,8807);
d.Goto(20035,8683);
d.Goto(19877,8544);
d.Goto(19570,8234);
d.Goto(19279,7894);
d.Goto(19008,7542);
d.Goto(18761,7196);
d.Goto(18510,6847);
d.Goto(18260,6534);
d.Goto(18005,6261);
d.Goto(17872,6139);
d.Goto(17736,6028);
d.Goto(17594,5928);
d.Goto(17446,5840);
d.Goto(17291,5763);
d.Goto(17128,5698);
d.Goto(16956,5645);
d.Goto(16774,5605);
d.Goto(16581,5577);
d.Goto(16377,5563);
d.Goto(16210,5568);
d.Goto(16043,5591);
d.Goto(15875,5631);
d.Goto(15709,5685);
d.Goto(15545,5750);
d.Goto(15384,5823);
d.Goto(15077,5984);
d.Goto(14549,6288);
d.Goto(14441,6345);
d.Goto(14345,6389);
d.Goto(14262,6417);
d.Goto(14226,6425);
d.Goto(14193,6427);
d.Goto(14132,6430);
d.Goto(14068,6426);
d.Goto(13935,6401);
d.Goto(13794,6354);
d.Goto(13645,6290);
d.Goto(13331,6124);
d.Goto(12997,5929);
d.Goto(12652,5734);
d.Goto(12301,5568);
d.Goto(12126,5504);
d.Goto(11951,5457);
d.Goto(11779,5431);
d.Goto(11610,5430);
d.Goto(11409,5455);
d.Goto(11212,5500);
d.Goto(11017,5564);
d.Goto(10825,5644);
d.Goto(10447,5852);
d.Goto(10078,6112);
d.Goto(9718,6414);
d.Goto(9364,6747);
d.Goto(8675,7463);
d.Goto(8005,8172);
d.Goto(7675,8498);
d.Goto(7347,8790);
d.Goto(7020,9037);
d.Goto(6694,9228);
d.Goto(6531,9300);
d.Goto(6367,9353);
d.Goto(6204,9387);
d.Goto(6040,9401);
d.Goto(5965,9399);
d.Goto(5894,9392);
d.Goto(5825,9379);
d.Goto(5759,9360);
d.Goto(5634,9308);
d.Goto(5520,9239);
d.Goto(5416,9153);
d.Goto(5322,9054);
d.Goto(5237,8943);
d.Goto(5162,8822);
d.Goto(5095,8694);
d.Goto(5037,8561);
d.Goto(4988,8425);
d.Goto(4946,8288);
d.Goto(4886,8018);
d.Goto(4856,7770);
d.Goto(4856,7629);
d.Goto(4875,7443);
d.Goto(4913,7219);
d.Goto(4970,6964);
d.Goto(5047,6686);
d.Goto(5144,6393);
d.Goto(5262,6091);
d.Goto(5402,5789);
d.Goto(5565,5494);
d.Goto(5750,5212);
d.Goto(5958,4953);
d.Goto(6191,4722);
d.Goto(6448,4528);
d.Goto(6586,4447);
d.Goto(6730,4377);
d.Goto(6880,4321);
d.Goto(7038,4278);
d.Goto(7201,4250);
d.Goto(7372,4238);
d.Goto(8591,4238);
d.Goto(9513,4266);
d.Goto(9882,4274);
d.Goto(10203,4269);
d.Goto(10481,4245);
d.Goto(10608,4223);
d.Goto(10727,4194);
d.Goto(10838,4158);
d.Goto(10941,4117);
d.Goto(11036,4072);
d.Goto(11124,4023);
d.Goto(11204,3971);
d.Goto(11277,3917);
d.Goto(11343,3861);
d.Goto(11403,3804);
d.Goto(11457,3747);
d.Goto(11506,3691);
d.Goto(11587,3582);
d.Goto(11650,3483);
d.Goto(11698,3400);
d.Goto(11622,3432);
d.Goto(11532,3465);
d.Goto(11427,3496);
d.Goto(11302,3521);
d.Goto(11232,3529);
d.Goto(11156,3534);
d.Goto(10986,3533);
d.Goto(10788,3513);
d.Goto(10561,3470);
d.Goto(10424,3427);
d.Goto(10277,3365);
d.Goto(9951,3202);
d.Goto(9573,3007);
d.Goto(9135,2811);
d.Goto(8892,2720);
d.Goto(8630,2640);
d.Goto(8349,2573);
d.Goto(8048,2523);
d.Goto(7726,2493);
d.Goto(7381,2487);
d.Goto(7014,2509);
d.Goto(6622,2561);
d.Goto(6157,2680);
d.Goto(5708,2851);
d.Goto(5276,3068);
d.Goto(4864,3326);
d.Goto(4474,3617);
d.Goto(4108,3936);
d.Goto(3767,4278);
d.Goto(3455,4636);
d.Goto(3172,5004);
d.Goto(2922,5377);
d.Goto(2705,5748);
d.Goto(2525,6112);
d.Goto(2383,6462);
d.Goto(2282,6793);
d.Goto(2222,7099);
d.Goto(2208,7373);
d.Goto(2243,7931);
d.Goto(2321,8557);
d.Goto(2455,9222);
d.Goto(2654,9895);
d.Goto(2782,10224);
d.Goto(2930,10544);
d.Goto(3101,10851);
d.Goto(3294,11141);
d.Goto(3512,11410);
d.Goto(3756,11654);
d.Goto(4027,11869);
d.Goto(4327,12052);
d.Goto(4903,12332);
d.Goto(5379,12521);
d.Goto(5762,12636);
d.Goto(5921,12670);
d.Goto(6059,12692);
d.Goto(6178,12704);
d.Goto(6278,12707);
d.Goto(6360,12705);
d.Goto(6425,12698);
d.Goto(6474,12689);
d.Goto(6508,12680);
d.Goto(6527,12673);
d.Goto(6534,12670);
d.Goto(6550,12586);
d.Goto(6602,12358);
d.Goto(6694,12020);
d.Goto(6829,11609);
d.Goto(7012,11159);
d.Goto(7123,10930);
d.Goto(7246,10705);
d.Goto(7384,10489);
d.Goto(7536,10284);
d.Goto(7703,10097);
d.Goto(7885,9930);
d.Goto(6275,13459);
d.Goto(6034,14107);
d.Goto(5906,14406);
d.Goto(5782,14655);
d.Goto(5563,15037);
d.Goto(5448,15224);
d.Goto(5329,15405);
d.Goto(5203,15577);
d.Goto(5068,15740);
d.Goto(4923,15889);
d.Goto(4767,16023);
d.Goto(4869,16003);
d.Goto(5031,15963);
d.Goto(5500,15829);
d.Goto(6117,15633);
d.Goto(6825,15382);
d.Goto(7565,15088);
d.Goto(8279,14759);
d.Goto(8609,14585);
d.Goto(8911,14405);
d.Goto(9178,14223);
d.Goto(9402,14037);
d.Goto(9483,13952);
d.Goto(9560,13856);
d.Goto(9704,13630);
d.Goto(9835,13368);
d.Goto(9954,13077);
d.Goto(10163,12432);
d.Goto(10340,11752);
d.Goto(10644,10511);
d.Goto(10716,10266);
d.Goto(10790,10061);
d.Goto(10867,9903);
d.Goto(10906,9844);
d.Goto(10947,9799);
d.Goto(11033,9728);
d.Goto(11125,9664);
d.Goto(11221,9606);
d.Goto(11320,9555);
d.Goto(11518,9470);
d.Goto(11709,9407);
d.Goto(11878,9362);
d.Goto(12015,9333);
d.Goto(12106,9318);
d.Goto(12139,9313);
d.Goto(20914,12010);
d.Goto(21027,12287);
d.Goto(21097,12431);
d.Goto(21177,12574);
d.Goto(21266,12711);
d.Goto(21365,12837);
d.Goto(21476,12947);
d.Goto(21535,12995);
d.Goto(21597,13038);
d.Goto(21662,13074);
d.Goto(21730,13104);
d.Goto(21801,13126);
d.Goto(21875,13141);
d.Goto(21953,13147);
d.Goto(22033,13144);
d.Goto(22116,13132);
d.Goto(22203,13110);
d.Goto(22080,13337);
d.Goto(22017,13432);
d.Goto(21953,13515);
d.Goto(21886,13587);
d.Goto(21815,13649);
d.Goto(21737,13702);
d.Goto(21653,13745);
d.Goto(21560,13780);
d.Goto(21458,13807);
d.Goto(21344,13828);
d.Goto(21219,13842);
d.Goto(20927,13854);
d.Goto(20570,13850);
d.Goto(20378,13836);
d.Goto(20189,13807);
d.Goto(20005,13764);
d.Goto(19825,13708);
d.Goto(19651,13641);
d.Goto(19484,13563);
d.Goto(19324,13476);
d.Goto(19171,13382);
d.Goto(19027,13282);
d.Goto(18893,13176);
d.Goto(18768,13067);
d.Goto(18654,12956);
d.Goto(18551,12844);
d.Goto(18461,12732);
d.Goto(18383,12621);
d.Goto(18318,12514);
d.Goto(18309,12568);
d.Goto(18303,12628);
d.Goto(18304,12764);
d.Goto(18315,12913);
d.Goto(18332,13066);
d.Goto(18365,13353);
d.Goto(18370,13467);
d.Goto(18368,13514);
d.Goto(18362,13552);
d.Goto(18341,13754);
d.Goto(18334,13871);
d.Goto(18331,14040);
d.Goto(17019,15023);
d.Goto(16961,14880);
d.Goto(16888,14744);
d.Goto(16800,14613);
d.Goto(16700,14490);
d.Goto(16588,14374);
d.Goto(16465,14267);
d.Goto(16333,14170);
d.Goto(16194,14082);
d.Goto(16047,14006);
d.Goto(15895,13941);
d.Goto(15739,13888);
d.Goto(15580,13848);
d.Goto(15419,13823);
d.Goto(15257,13811);
d.Goto(15097,13816);
d.Goto(14860,13869);
d.Goto(14662,13944);
d.Goto(14577,13989);
d.Goto(14500,14037);
d.Goto(14431,14090);
d.Goto(14370,14146);
d.Goto(14316,14206);
d.Goto(14269,14267);
d.Goto(14229,14331);
d.Goto(14195,14397);
d.Goto(14144,14533);
d.Goto(14114,14672);
d.Goto(14102,14809);
d.Goto(14104,14944);
d.Goto(14118,15071);
d.Goto(14140,15188);
d.Goto(14169,15292);
d.Goto(14200,15380);
d.Goto(14230,15448);
d.Goto(14245,15474);
d.Goto(14258,15494);

	d.Low();

	return 0;
}
